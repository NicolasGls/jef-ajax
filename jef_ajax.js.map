{"version":3,"sources":["jef_ajax.es6"],"names":[],"mappings":"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","file":"jef_ajax.es6","sourcesContent":["/**\n *  AJAX loading data\n ****************************************************/\n\n\"use strict\";\n\nvar jef_ajax = {\n\n    ajax(options) {\n\n        let req = new XMLHttpRequest();\n\n        req.open(options.method || 'GET', options.url, true);\n\n        req.onreadystatechange = function (aEvt) {\n\n            if (req.readyState === 4) {\n                if(req.status === 200) {\n                    if (options.success) {\n                        options.success.call(this);\n                        return req.responseText;\n                    }\n                } else {\n                    console.log('[jef] error ajax loading');\n                }\n            }\n        };\n\n        req.send(null);\n\n    },\n\n    /**\n     *  AJAX loader element\n     ****************************************************/\n    loader : {\n        show: function () {\n            let loaderDiv;\n\n            // if the loader has not yet been created in the DOM\n            // we create it and we inject\n            if (document.querySelectorAll('#js-JefLoader').length === 0) {\n                loaderDiv = document.createElement('div');\n                loaderDiv.setAttribute('id', 'js-JefLoader');\n                loaderDiv.setAttribute('class', 'js-JefLoader--enter');\n                document.body.appendChild(loaderDiv);\n                // get loaderDiv DOM element\n                this.loaderDiv = document.getElementById('js-JefLoader');\n\n                setTimeout(function () {\n                    document.getElementById('js-JefLoader').classList.add('js-JefLoader--enter-active');\n                }, 100);\n\n            } else {\n                document.getElementById('js-JefLoader').classList.add('js-JefLoader--enter-active');\n\n                setTimeout(function () {\n                    document.getElementById('js-JefLoader').classList.add('js-JefLoader--enter-active');\n                }, 100);\n            }\n        },\n\n        hide: function (delay) {\n            var _this = this;\n            setTimeout(function () {\n                document.getElementById('js-JefLoader').classList.remove('js-JefLoader--enter');\n\n                setTimeout(function () {\n                    document.getElementById('js-JefLoader').classList.remove('js-JefLoader--enter-active');\n                }, 100);\n            }, delay);\n        },\n\n        // display classes on containers\n        classToggleContainer : {\n\n            oneContainer : function(container, options) {\n                container.classList.add('JefLoader--enter');\n                setTimeout(function () {\n                    container.classList.add('JefLoader--enter-active');\n                }, 100);\n\n                setTimeout(function () {\n                    container.classList.remove('JefLoader--enter-active');\n                    container.classList.remove('JefLoader--enter');\n                }, options.time);\n            },\n\n            twoContainers : function(newContainer, currentContainer, options) {\n                newContainer.classList.add('JefLoader--enter');\n                currentContainer.classList.add('JefLoader--leave');\n\n                setTimeout(function () {\n                    newContainer.classList.add('JefLoader--enter-active');\n                    currentContainer.classList.add('JefLoader--leave-active');\n                }, 100);\n\n                setTimeout(function () {\n                    newContainer.classList.remove('JefLoader--enter-active');\n                    newContainer.classList.remove('JefLoader--enter');\n                }, options.time + 100);\n            }\n        }\n    },\n\n\n    /**\n     * inject new content into the DOM\n     * params\n     * @container (HTMLElement) : the container of the current page that will host the new content\n     * @data : the data to be injected\n     * @target : the element whose content is recovered\n     * @displayMode : the new content is displayed side by side relative\n     *                to old content or it is remplaced by the old content container\n     ****************************************************/\n    injectNewContent : {\n\n        newContainer : '',\n\n        display : {\n            default(container, data, options) {\n                // add/remove classes on container for the CSS animations\n                jef_ajax.loader.classToggleContainer.oneContainer(document.querySelector(container), options);\n\n                jef_ajax.injectNewContent.injectHTML(data, options);\n            },\n            sidebyside(container, data, options) {\n\n                // the new content is displayed side by side relative to old content\n                // get the attributes of the current container and paste it on the new container\n                // --> clone element function\n                let currentContainer = document.querySelector(container),\n                    newContainerElement = document.createElement(currentContainer.nodeName),\n                    insertElement,\n                    i;\n\n                // insert the new element before the current container\n                insertElement = currentContainer.parentNode.insertBefore(newContainerElement, currentContainer);\n\n                // add/remove classes on container for the CSS animations\n                jef_ajax.loader.classToggleContainer.twoContainers(insertElement, currentContainer, options);\n\n                // inject HTML into the DOM\n                jef_ajax.injectNewContent.injectHTML(data, options, insertElement);\n\n            }\n        },\n\n        injectHTML(data, options, otherContainer) {\n\n            // inject content in HTML format\n            let newContent = document.createElement('div'),\n                container = document.querySelector(__JEF__.view),\n                e,y,a,k;\n\n            // load new content in HTMLElement object\n            newContent.innerHTML = data;\n\n            let oldAttrs = container.attributes,\n                newAttrs = newContent.querySelector(__JEF__.view).attributes;\n\n\n            // if the content is loaded on other container\n            if(otherContainer) {\n\n                // get attributes\n                newAttrs = newContent.querySelector(__JEF__.view).attributes;\n\n                // insert new content in container\n                otherContainer.innerHTML = newContent.querySelector(__JEF__.view).innerHTML;\n\n                for(y = 0, a = newAttrs.length; y < a; y++) {\n                    otherContainer.setAttribute(newAttrs[y].name, newAttrs[y].value);\n                }\n\n                // remove old container\n                setTimeout(()=> {\n                    container.parentNode.removeChild(container);\n                }, options.time + (options.time/2));\n\n                // else if content is loaded on the same container\n            } else {\n                // remove old content\n                while (container.firstChild) {\n                    container.removeChild(container.firstChild);\n                }\n\n                // insert new content in container\n                container.innerHTML = newContent.querySelector(__JEF__.view).innerHTML;\n\n                // replace attributes\n                // remove old\n                for(e = 0, k = oldAttrs.length; e < k-1; e++) {\n                    container.removeAttribute(oldAttrs[e].name);\n                }\n\n                // add news\n                for(y = 0, a = newAttrs.length; y < a; y++) {\n                    container.setAttribute(newAttrs[y].name, newAttrs[y].value);\n                }\n            }\n\n        }\n    },\n\n    history : {\n\n        listening : false,\n\n        pushState : function(options) {\n            history.pushState({}, '', __JEF__.url);\n        },\n\n        event : function(options) {\n            if(!this.listening) {\n                window.onpopstate = function() {\n                    options.historyCall = true;\n                    options.url = __JEF__.url = document.location;\n                    jef_ajax.pageLoader(options);\n                };\n                this.listening = true;\n            }\n        }\n    },\n\n\n    /**\n     * AJAX loading and display loader\n     * params\n     * @options : all options\n     ****************************************************/\n        pageLoader(options) {\n\n        //\n        // set defaults options\n        //***************************************************/\n\n        let _this = this,\n            myXHR;\n\n        // set default options if there is no\n        if(typeof options === 'undefined') {options = {};}\n\n        // if time is not specified, we assign a minimum value\n        options.time = options.hasOwnProperty('time') ? options.time : 1000;\n\n        // defined display mod\n        options.display = options.hasOwnProperty('display') ? options.display : 'default';\n\n        // set default diplay loader\n        options.loader = options.hasOwnProperty('loader') ? options.loader : false;\n\n        // if target is not specified,\n        // considering that we want to load the defined view\n        options.target = options.hasOwnProperty('target') ? options.target : false;\n\n        // manage history if it is set\n        options.history = options.hasOwnProperty('history') ? options.history : true;\n        options.historyCall = options.hasOwnProperty('historyCall') ? options.historyCall : false; // for history events\n\n        // legacy : defined target & container for the next …\n        options.container = __JEF__.view;\n\n\n        //\n        // AJAX request\n        //***************************************************/\n\n        // managed history event if it is set\n        if(options.history) {\n            jef_ajax.history.event(options);\n        }\n\n        // show loading\n        if(options.loader) {\n            jef_ajax.loader.show();\n        }\n\n        // send ajax request with our super object ajax homemade\n        myXHR = this.ajax({\n            url: __JEF__.url,\n            success: function() {\n\n                // inject new content\n                setTimeout(() => {\n                    jef_ajax.injectNewContent.display[options.display](\n                        options.container,\n                        this.response,\n                        options\n                    );\n                }, 200);\n\n\n                // push state in history\n                // if history options is active\n                // and if isn't a call with the back/prev browser btn (history call)\n                if(options.history && !options.historyCall) { jef_ajax.history.pushState(options); }\n\n                // the loader is hidden in the specified time\n                if(options.loader) {jef_ajax.loader.hide(options.time);}\n\n                // launch success function if it is set\n                if(options.hasOwnProperty('success')) { setTimeout(function () { options.success(); }, options.time); }\n\n                // reload Jef models and modules\n                __JEF__.instance.init();\n\n            },\n            error: function () {\n                console.log(this.status);\n            }\n        });\n\n        return this;\n    },\n\n    /**\n     * check HTMLinXHR compatibilty\n     ****************************************************/\n\n        HTMLinXHR() {\n        if (!window.XMLHttpRequest) {return false;}\n        var req = new window.XMLHttpRequest();\n        req.open('GET', window.location.href, false);\n        try {\n            req.responseType = 'document';\n        } catch (e) {\n            return true;\n        }\n        return false;\n    }\n};\n"]}